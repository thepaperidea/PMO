{% extends 'base.html.twig' %}

{% block main %}
{% if content.stayimage[1] %}
<section class="header-image swipe full-height">
  <div class="swiper-container">
    <div class="swiper-wrapper">
        {% for each in content.stayimage %}
          <div class="swiper-slide full-height">
            <span class="background" data-background="{{ (data.image.destination ~ each.main_image) | absolute }}">
            </span>
          </div>
        {% endfor %}
    </div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
    <div class="middle title">
      <h1>{{ content.name }}</h1>
      <span class="location"><a class="ajax-nav" href="{{ ('country/' ~ content.destination.country.link) | absolute }}">{{ content.destination.country.name }}</a><a class="ajax-nav" href="{{ ('destination/' ~ content.destination.link) | absolute }}">{{ content.destination.name }}</a></span>
    </div>
  </div>
</section>
{% else %}
<section class="header-image full-height">
  <div class="background" data-background="{{ (data.image.destination ~ content.stayimage[0].main_image) | absolute }}"></div>
  <div class="middle title">
    <h1>{{ content.name }}</h1>
    <span class="location"><a class="ajax-nav" href="{{ ('country/' ~ content.destination.country.link) | absolute }}">{{ content.destination.country.name }}</a><a class="ajax-nav" href="{{ ('destination/' ~ content.destination.link) | absolute }}">{{ content.destination.name }}</a></span>
  </div>
</section>
{% endif %}
<section class="button">
  <a class="ajax-nav" href="{{ ('stay/' ~ content.link ~ '/book') | absolute }}">Book Now</a>
</section>
<section class="title">
  <div class="center align-center">
    <div class="inline-child">
      {% if content.checkin %}
      <div id="checkin">
        <h2>Check-in</h2>
        <p>{{ content.checkin }}</p>
      </div>
      {% endif %}
      <div id="rating">
        <h2>Star Rating</h2>
        <ul class="rating">
          {% for i in 1..each.rating %}
            <li></li>
          {% endfor %}
        </ul>
      </div>
      {% if content.checkout %}
      <div id="checkout">
        <h2>Check-out</h2>
        <p>{{ content.checkout }}</p>
      </div>
      {% endif %}
    </div>
    <div id="description">{{ content.description }}</div>
    <div id="tripadvisor" data-permalink="{{ content.link }}">{{ content.tripadvisor | raw }}</div>
  </div>
</section>
<section>
  <div class="line-title"><h2>Room Details</h2></div>
  <ul class="stay room container">
    {% for each in content.room %}
      <li class="mix type{{ each.type.link }}" data-room="{{ each.id }}">
        <a>
          <span class="background" data-background="{{ (data.image.destination ~ each.images[0].main_image  ) | absolute }}"></span>
          <ul class="caption">
            <li>{{ each.tagline }}</li>
            <li>{{ each.name }}</li>
            <li class="currency">{{ each.price }}</li>
          </ul>
        </a>
      </li>
    {% endfor %}
  </ul>
  <div class="roomdetails">
    {% for each in content.room %}
      <div class="specificroom room{{ each.id }}">
        <div class="swiper-container">
          <div class="swiper-wrapper">
              {% for img in each.images %}
                <div class="swiper-slide">
                  <span class="background" data-background="{{ (data.image.destination ~ img.main_image) | absolute }}">
                  </span>
                </div>
              {% endfor %}
          </div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
        <div>
          <div class="caption">
            <div>{{ each.tagline }}</div>
            <div>{{ each.name }}</div>
            <div class="currency">{{ each.price }}</div>
            <div>{{ each.description }}</div>
          </div>
          <div class="amenity icon">
            {% for amenity in each.amenity %}
              <div>
                <span class="background" data-background="{{ (data.image.destination ~ amenity.fancy_image_120x120) | absolute }}"></span>
                <p>{{ amenity.name }}</p>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</section>
<section>
  <div class="line-title"><h2>Activities</h2></div>
  <div class="icon align-center">
    {% for each in content.activity %}
    <div>
      <span class="background" data-background="{{ (data.image.destination ~ each.fancy_image_120x120) | absolute }}"></span>
      <p>{{ each.name }}</p>
    </div>
    {% endfor %}
  </div>
</section>
<section>
  <div class="line-title"><h2>Facilities</h2></div>
  <div class="icon align-center">
    {% for each in content.facility %}
    <div>
      <span class="background" data-background="{{ (data.image.destination ~ each.fancy_image_120x120) | absolute }}"></span>
      <p>{{ each.name }}</p>
    </div>
    {% endfor %}
  </div>
</section>
{% if content.latitude %}
<section class="stay-map">
  <div class="line-title"><h2>Location</h2></div>
  {% if content.transport %}
  <div class="transport inline-child">
    {% for each in content.transport %}
    <div>
      <h2>{{ each.transport.name }}</h2>
      <p class="time">
        {% if each.split[0] != '00' %}{{ each.split[0] }} hour{% endif %}
        {% if each.split[1] != '00' %}{{ each.split[1] }} min{% endif %}
        {% if each.split[2] != '00' %}{{ each.split[2] }} secs{% endif %}
      </p>
    </div>
    {% endfor %}
  </div>
  {% endif %}
  <div class="map" data-latitude="{{ content.latitude }}" data-longitude="{{ content.longitude }}" data-zoom="8" data-airportlatitude="{{ data.constant.airport.latitude }}" data-airportlongitude="{{ data.constant.airport.longitude }}"></div>
</section>
{% endif %}

{% endblock %}

{% block script %}stay{% endblock %}
